# 클라이언트 사이드 렌더링 (CSR : Client Side Rendering)

클라이언트 사이드 렌더링은 말 그대로 렌더링이 클라이언트 쪽에서 일어난다.

즉, 서버는 요청을 받으면 클라이언트에 html과 Javscript를 보내주고, 클라이언트는 그것을 받아 렌더링을 시작하게 된다.

<BR>

## CSR의 단계

![image](https://user-images.githubusercontent.com/72599761/210162295-b6905738-e043-4c36-a8a3-6103f80abe2b.png)

1. user가 웹사이트 요청을 보낸다.
2. CDN이 HTML 파일과 JS로 접근할 수 있는 링크를 보내고, 클라이언트는 HTML과 JS를 다운로드 받는다.
3. 리액트가 들어있는 JS 코드가 실행된다.
4. 리액트가 실행될 때 유저가 볼 수 있는 모든 html 요소와 UI를 렌더링 해준다.

- 브라우저가 리액트 JS 코드를 실행하고, 해당 코드가 유저가 볼 수 있는 UI를 빌드한다.
- ⭐⭐ 리액트가 실행되기 전에 어떠한 웹 컨텐츠도 존재하지 않는다.
- ⭐⭐ JS가 실행되지 않거나 인터넷이 느린 경우 보이지 않는다.
- ⭐⭐ 첫 로딩만 기다리면, 동적으로 빠르게 렌더링이 되기 때문에 사용자 경험(UX)이 좋다.

<BR>

### CSR의 간단한 단계

1. 유저가 웹사이트에 입장했을 때 UI가 안 보인다.
   서버는 브라우저가 다운 받을 js 파일을 제공.
2. 브라우저는 리액트 코드가 들어있는 JS파일을 실행.
3. 리액트가 실행될 때 유저가 볼 수 있는 모든 html 요소와 UI를 렌더링 해준다.

<BR><BR>

# 서버 사이드 렌더링 (SSR:Server Side Rendering)

서버사이드 렌더링은 말 그대로 렌더링이 서버 쪽에서 렌더링 준비를 마친 상태로 클라이언트에 전달하는 방식을 의미한다.

SSR에선 브라우저가 페이지를 요청할 때마다 해당 페이지에 관련된 HTML, CSS, JS 파일 및 데이터를 받아와서 렌더링을 시킨다.

<BR>

## SSR의 단계

![image](https://user-images.githubusercontent.com/72599761/210162301-4df0646f-7031-448d-ba00-67c26c73b443.png)

1. user가 웹사이트 요청을 보낸다.
2. server는 즉시 렌더링 가능한 html 파일을 만든다.
3. 클라이언트에 전달되는 순간 html은 즉시 렌더링 된다. 그러나 사이트 자체는 조작이 불가능하다. (Javascript가 읽히기 전이기 때문에)
4. 클라이언트가 Javscript를 다운 받는다.
5. 다운 받아지고 있는 사이에 유저는 컨텐츠를 볼 수 있지만, 사이트를 조작할 수는 없다.
   => 이 때 사용자의 조작을 기억하고 있다.
6. 브라우저가 Javascript 프레임 워크를 실행한다.
7. Javascript까지 성공적으로 컴파일 되었기 때문에 기억하고 있던 사용자 조작이 실행되고, 이제는 웹 페이지 상호작용이 가능해진다.

<BR><BR>

# CSR과 SSR의 차이

1. 사용자 경험(UX)

   : CSR이 더 좋다.

   (1) CSR

- 첫 로딩만 기다리면, 동적으로 빠르게 렌더링이 되기 때문에 사용자 경험(UX)이 좋다.

  (2) SSR

- 매번 페이지를 요청할 때마다 새로고침 되기 때문에 사용자 경험이 CSR에 비해서 좋지 않다.

<BR>

2.  웹 페이지 로딩 시간

    (1) 초기 로딩
    : 초기로딩은 SSR이 CSR보다 빠르다.

        - SSR : 필요한 부분의 HTML과 Script들만 불러오므로 초기로딩이 빠른 편
        - CSR : HTML과 CSS와 같은 모든 Script들을 한번에 불러오므로 초기로딩이 느린 편

    (2) 초기 이후 로딩
    : 이후 로딩은 CSR이 더 빠르다.

        - SSR : 초기 로딩과 같은 과정(HTML과 SCRIPT 불러오는 과정)을 페이지에 접속할 때마다 수행하므로 느리다.

        - CSR : 이미 초기 로딩할 때 모든 Script들을 한번에 불러왔기 때문에 빠르다.

<BR>

2.  SEO

    - SSR이 더 유리하다.
    - 검색 엔진은 자동화된 로봇인 크롤러로 웹사이트들을 읽는다.

    (1) CSR의 SEO

    - CSR은 JS가 실행되기 전에 HTML 바디가 텅텅 비어있어서 검색엔진의 검색 봇이 크롤링을 하는데 어려움을 겪기 때문에 검색엔진 최적화(Search Engine Optimization)의 문제가 있다.

    - 구글 봇의 경우는 JS를 지원하지만, 다른 검색엔진의 경우 그렇지 않기 때문에 문제가 된다.

    (2) SSR의 SEO

    - JS를 이용한 렌더링이 아니기 때문에 검색엔진 최적화가 가능하다.
    - 애초에 서버사이드에서 컴파일되어 클라이언트로 넘어오기 때문에 크롤러에 대응하기 용이하다.

<BR>

3.  서버 자원 사용

    - SSR이 서버자원을 더 많이 사용한다. 매번 서버에 요청하기 때문이다.
    - 서버에 매번 요청을 하기 때문에 서버의 부하가 커진다.

<BR><BR>

# 사용 권장

## 1. CSR을 사용하는 경우

- 네트워크가 빠를 때
- 서버의 성능이 좋지 않을 때
- 사용자에게 보여줘야 하는 데이터의 양이 많을 때 (로딩창을 띄울 수 있는 장점 존재)
- 메인 Script가 가벼울 때
- SEO에 상관없을 때
- 웹 어플리케이션이 사용자와 상호작용할 것들이 많을 때

## 2. SSR을 사용해야 하는 경우

- 네트워크가 느릴 때
  ❓ CSR은 한번에 모든 것을 불러오지만 SSR은 각 페이지마다 불러오기 때문이다.

- 초기 로딩이 빨라야 하는 사이트를 개발할 때
- 웹 사이트가 상호작용이 별로 없을 때
- SEO에 최적화 되어있어 검색 엔진에 잘 등록되어야 하는 웹사이트를 개발할 때
